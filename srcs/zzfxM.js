zzfx=((...t)=>zzfxP(zzfxG(...t))),zzfxP=((...t)=>{let z=zzfxX.createBufferSource(),e=zzfxX.createBuffer(t.length,t[0].length,zzfxR);return t.map((t,z)=>e.getChannelData(z).set(t)),z.buffer=e,z.connect(zzfxX.destination),z.start(),z}),zzfxG=((t=1,z=.05,e=220,a=0,f=0,n=.1,x=0,h=1,r=0,o=0,M=0,i=0,s=0,u=0,l=0,g=0,c=0,d=1,m=0,b=zzfxR,R=99+a*b,X=f*b,p=n*b,C=m*b,G=c*b,P=2*Math.PI,w=(t=>0<t?1:-1),A=R+C+X+p+G,B=(r*=500*P/b**2),V=(e*=(1+2*z*Math.random()-z)*P/b),k=w(l)*P/4,D=0,I=0,S=0,j=0,q=0,v=0,y=1,E=[])=>{for(;S<A;E[S++]=v)++q>100*g&&(q=0,v=D*e*Math.sin(I*l*P/b-k),v=w(v=x?1<x?2<x?3<x?Math.sin((v%P)**3):Math.max(Math.min(Math.tan(v),1),-1):1-(2*v/P%2+2)%2:1-4*Math.abs(Math.round(v/P)-v/P):Math.sin(v))*Math.abs(v)**h*t*zzfxV*(S<R?S/R:S<R+C?1-(S-R)/C*(1-d):S<R+C+X?d:S<A-G?(A-S-G)/p*d:0),v=G?v/2+(G>S?0:(S<A-G?1:(S-A)/G)*E[S-G|0]/2):v),D+=1-u+1e9*(Math.sin(S)+1)%2*u,I+=1-u+1e9*(Math.sin(S)**2+1)%2*u,e+=r+=500*o*P/b**3,y&&++y>i*b&&(e+=M*P/b,V+=M*P/b,y=0),s&&++j>s*b&&(e=V,r=B,j=1,y=y||1);return E}),zzfxV=.3,zzfxR=44100,zzfxX=new(top.AudioContext||webkitAudioContext),zzfxM=((t,z,e,a=125)=>{let f,n,x,h,r,o,M,i,s,u,l,g,c,d,m,b,R=[],X=[],p=[],C=0,G=1,P={},w=zzfxR/a*60>>2;for(;G;C++)R=[G=i=l=c=0],e.map((a,l)=>{for(M=z[a][C]||[0,0,0],G|=!!z[a][C],m=c+(z[a][0].length-2-!i)*w,n=2,h=c;n<M.length+(l==e.length-1);i=++n){for(r=M[n],s=u!=(M[0]||0)|r|0,x=0;x<w&&i;x++>w-99&&s?g+=(g<1)/99:0)o=(1-g)*R[d++]/2||0,X[h]=(X[h]||0)+o*b-o,p[h]=(p[h++]||0)+o*b+o;r&&(g=r%1,b=M[1]||0,(r|=0)&&(R=P[[u=M[d=0]||0,r]]=P[[u,r]]||((f=[...t[u]])[2]*=2**((r-12)/12),zzfxG(...f))))}c=m});return[X,p]});
